extends layout

block content
  h1 Update Book
  // show errors if found during update
  if errors
    h2.error Oooops!
    ul.error
      each error in errors
        li= error.message
  form(action=`/books/${book.id}` method="post")
    p
      label(for="title") Title
      input(name="title" type="text" id="title" value=(book ? book.title : ''))
    p
      label(for="author") Author
      input(name="author" type="text" id="author" value=(book ? book.author : ''))
    p
      label(for="genre") Genre
      input(name="genre" type="text" id="genre" value=(book ? book.genre : ''))
    p
      label(for="year") Year
      input(name="year" type="text" id="year" value=(book ? book.year : ''))
    p
      input(type="submit" value="Update Book")
  // send the user a confirmation alert box before deleting
  form(action=`/books/${book.id}/delete` method="post" onsubmit="return confirm('Do you really want to delete this book?');")
    p
      a.button(href="/books") Cancel
    p
      input(type="submit" value="Delete Book")